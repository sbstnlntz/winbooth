<UserControl x:Class="FotoboxApp.Views.AdminDefaultTemplateView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="White">
    <UserControl.Resources>
        <Style x:Key="AdminActionButtonStyle" TargetType="Button">
            <Setter Property="Padding" Value="14,6"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="Margin" Value="0,0,8,8"/>
            <Setter Property="MinWidth" Value="140"/>
        </Style>

        <BitmapImage x:Key="TemplatePlaceholderImage"
                     UriSource="pack://application:,,,/FotoboxApp;component/Assets/template_placeholder.png"/>

        <Style TargetType="ListBoxItem">
            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
            <Setter Property="VerticalContentAlignment" Value="Stretch"/>
            <Setter Property="Margin" Value="8"/>
        </Style>
    </UserControl.Resources>

    <Viewbox Stretch="Uniform" StretchDirection="Both">
        <Border Width="1280"
                Height="800"
                BorderBrush="Black"
                BorderThickness="2"
                Margin="12"
                CornerRadius="4">
            <Grid Margin="32">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <TextBlock Grid.Row="0"
                           Text="Default-Design"
                           FontWeight="Bold"
                           FontSize="44"
                           Foreground="Black"
                           VerticalAlignment="Top"/>

                <Button Grid.Row="0"
                        Style="{StaticResource FB_DialogCloseButtonStyle}"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Top"
                        Click="Back_Click"/>

                <Grid Grid.Row="1" Margin="0,32,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="1.1*"/>
                        <ColumnDefinition Width="2*"/>
                    </Grid.ColumnDefinitions>

                    <Grid Grid.Column="0"
                          Margin="0,0,24,0">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <ScrollViewer Grid.Row="0"
                                      VerticalScrollBarVisibility="Auto"
                                      HorizontalScrollBarVisibility="Disabled">
                            <StackPanel>
                                <TextBlock Text="Wähle das Design aus, das automatisch verwendet wird, falls noch kein Kundendesign gesetzt wurde."
                                           FontSize="20"
                                           TextWrapping="Wrap"/>
                                <Border Background="#F6F6F6"
                                        BorderBrush="#D0D0D0"
                                        BorderThickness="1"
                                        CornerRadius="12"
                                        Padding="16"
                                        Margin="0,18,0,0">
                                    <StackPanel>
                                        <TextBlock Text="Aktuelles Standard-Design"
                                                   FontSize="18"
                                                   FontWeight="Bold"
                                                   Margin="0,0,0,6"/>
                                        <TextBlock Text="{Binding DefaultTemplateDisplayName}"
                                                   FontSize="18"
                                                   Margin="0,0,0,12"/>
                                        <Border BorderBrush="#D0D0D0"
                                                BorderThickness="1"
                                                CornerRadius="12"
                                                Background="White"
                                                Padding="6"
                                                Height="220">
                                            <Image Source="{Binding DefaultTemplatePreview}"
                                                   Stretch="Uniform"
                                                   VerticalAlignment="Center"
                                                   HorizontalAlignment="Center"
                                                   RenderOptions.BitmapScalingMode="HighQuality"/>
                                        </Border>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </ScrollViewer>

                        <WrapPanel Grid.Row="1"
                                   HorizontalAlignment="Right"
                                   Margin="0,16,0,0">
                            <Button Content="Kein Standard"
                                    Style="{StaticResource AdminActionButtonStyle}"
                                    Click="ClearDefault_Click"/>
                            <Button Content="Zurück"
                                    Style="{StaticResource AdminActionButtonStyle}"
                                    Click="Back_Click"/>
                        </WrapPanel>
                    </Grid>

                    <Border Grid.Column="1"
                            Background="#FFFFFF"
                            BorderBrush="#D0D0D0"
                            BorderThickness="1"
                            CornerRadius="12"
                            Padding="18">
                        <ScrollViewer HorizontalScrollBarVisibility="Disabled"
                                      VerticalScrollBarVisibility="Auto">
                            <ListBox ItemsSource="{Binding Templates}"
                                     SelectedItem="{Binding DefaultTemplate, Mode=TwoWay}"
                                     BorderThickness="0"
                                     Background="Transparent">
                                <ListBox.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <WrapPanel/>
                                    </ItemsPanelTemplate>
                                </ListBox.ItemsPanel>

                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <Border x:Name="Card"
                                                Width="220"
                                                Height="260"
                                                CornerRadius="12"
                                                BorderBrush="#D0D0D0"
                                                BorderThickness="2"
                                                Background="White"
                                                Padding="10">
                                            <Grid>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="*"/>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>
                                                <Border CornerRadius="8"
                                                        BorderBrush="#E0E0E0"
                                                        BorderThickness="1"
                                                        Background="#F9F9F9"
                                                        Padding="6"
                                                        Grid.Row="0">
                                                    <Image Source="{Binding PreviewImage, TargetNullValue={StaticResource TemplatePlaceholderImage}}"
                                                           RenderOptions.BitmapScalingMode="HighQuality"
                                                           Stretch="Uniform"
                                                           VerticalAlignment="Center"
                                                           HorizontalAlignment="Center"/>
                                                </Border>
                                                <StackPanel Grid.Row="1"
                                                            Margin="0,10,0,0">
                                                    <TextBlock Text="{Binding Name}"
                                                               FontWeight="Bold"
                                                               FontSize="16"
                                                               TextWrapping="Wrap"/>
                                                    <Border x:Name="SelectedBadge"
                                                            Background="#C8102E"
                                                            CornerRadius="6"
                                                            Padding="6,2"
                                                            Margin="0,6,0,0"
                                                            HorizontalAlignment="Left"
                                                            Visibility="Collapsed">
                                                        <TextBlock Text="Standard"
                                                                   Foreground="White"
                                                                   FontWeight="Bold"
                                                                   FontSize="14"/>
                                                    </Border>
                                                </StackPanel>
                                            </Grid>
                                        </Border>
                                        <DataTemplate.Triggers>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=ListBoxItem}, Path=IsSelected}"
                                                         Value="True">
                                                <Setter TargetName="Card" Property="BorderBrush" Value="#C8102E"/>
                                                <Setter TargetName="Card" Property="BorderThickness" Value="4"/>
                                                <Setter TargetName="SelectedBadge" Property="Visibility" Value="Visible"/>
                                            </DataTrigger>
                                        </DataTemplate.Triggers>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>
                        </ScrollViewer>
                    </Border>
                </Grid>
            </Grid>
        </Border>
    </Viewbox>
</UserControl>
