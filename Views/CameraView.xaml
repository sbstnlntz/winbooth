<UserControl x:Class="winbooth.Views.CameraView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="{StaticResource FB_BackgroundBrush}">

	<Grid Grid.Row="1">
		<!-- Viewbox mit Bild -->
		<Viewbox Stretch="Uniform" HorizontalAlignment="Center" VerticalAlignment="Center">
			<Canvas x:Name="TemplateCanvas" Width="1600" Height="1200">
				<!-- Livebild -->
				<Image x:Name="RegionPreviewImage"
					   Stretch="Fill"
					   Visibility="Collapsed"
					   IsHitTestVisible="False"/>
				<!-- Template -->
				<Image x:Name="TemplateBackground"
					   Stretch="None"
					   Canvas.Left="0"
					   Canvas.Top="0"/>
			</Canvas>
		</Viewbox>

		<!-- Countdown -->
		<Grid x:Name="CountdownRing"
			  Width="260"
			  Height="260"
			  Visibility="Collapsed"
			  HorizontalAlignment="Center"
			  VerticalAlignment="Center">
			<Grid.Effect>
				<DropShadowEffect Color="Black"
								  BlurRadius="30"
								  ShadowDepth="0"
								  Opacity="0.65"/>
			</Grid.Effect>
			<Ellipse Stroke="#33FFFFFF"
					 StrokeThickness="12"
					 Fill="#22000000"/>
			<Path x:Name="CountdownArcPath"
				  Stroke="#FF00C6FF"
				  StrokeThickness="12"
				  StrokeStartLineCap="Round"
				  StrokeEndLineCap="Round"
				  Fill="Transparent"/>
			<TextBlock x:Name="CountdownNumber"
					   Text="5"
					   FontSize="96"
					   FontWeight="Bold"
					   Foreground="White"
					   FontFamily="{StaticResource FB_FontFamilyAccent}"
					   HorizontalAlignment="Center"
					   VerticalAlignment="Center"/>
		</Grid>

		<!-- Flash-Effekt -->
		<Border x:Name="FlashOverlay"
				Background="White"
				Opacity="0"
				Visibility="Collapsed"/>

		<!-- Review-Overlay -->
		<Grid x:Name="ReviewOverlay"
			  Background="#99000000"
			  Visibility="Collapsed"
			  HorizontalAlignment="Stretch"
			  VerticalAlignment="Stretch"
			  Panel.ZIndex="10">

			<Border Background="#FF1C1C1C"
					CornerRadius="26"
					Padding="28,20"
					Margin="0,0,0,20"
					HorizontalAlignment="Center"
					VerticalAlignment="Bottom">
				<Border.Resources>
					<Style x:Key="ReviewActionButtonStyle" TargetType="Button">
						<Setter Property="Background" Value="#FF2A2A2A"/>
						<Setter Property="Foreground" Value="White"/>
						<Setter Property="BorderBrush" Value="Transparent"/>
						<Setter Property="Padding" Value="16,12"/>
						<Setter Property="Margin" Value="6"/>
						<Setter Property="FontSize" Value="20"/>
						<Setter Property="FontWeight" Value="SemiBold"/>
						<Setter Property="Cursor" Value="Hand"/>
						<Setter Property="Template">
							<Setter.Value>
								<ControlTemplate TargetType="Button">
									<Border Background="{TemplateBinding Background}"
											CornerRadius="18"
											Padding="{TemplateBinding Padding}">
										<ContentPresenter HorizontalAlignment="Center"
														  VerticalAlignment="Center"/>
									</Border>
								</ControlTemplate>
							</Setter.Value>
						</Setter>
					</Style>
				</Border.Resources>
				<Border.Effect>
					<DropShadowEffect Color="#22000000"
									  BlurRadius="40"
									  ShadowDepth="0"
									  Opacity="0.8"/>
				</Border.Effect>
				<StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
					<Button Style="{StaticResource ReviewActionButtonStyle}" Click="RepeatPhoto_Click" Background="#FFAA1F1F">
						<StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
							<TextBlock Text="♻" FontSize="24" Margin="0,0,10,0"/>
							<TextBlock Text="WIEDERHOLEN"/>
						</StackPanel>
					</Button>
					<Button Style="{StaticResource ReviewActionButtonStyle}" Click="ContinuePhoto_Click" Background="#FF16B36B">
						<StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
							<TextBlock Text="✔" FontSize="24" Margin="0,0,10,0"/>
							<TextBlock Text="WEITER"/>
						</StackPanel>
					</Button>
				</StackPanel>
			</Border>
		</Grid>


	</Grid>

</UserControl>


