<UserControl x:Class="FotoboxApp.Views.CollageView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:conv="clr-namespace:FotoboxApp.Converters"
             Background="{StaticResource FB_BackgroundBrush}">

	<UserControl.Resources>
		<conv:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
		<Style x:Key="OverlayButton" TargetType="Button">
			<Setter Property="Background" Value="#CCFFFFFF"/>
			<Setter Property="BorderBrush" Value="Transparent"/>
			<Setter Property="Padding" Value="10"/>
			<Setter Property="Margin" Value="5"/>
			<Setter Property="FontSize" Value="18"/>
			<Setter Property="FontWeight" Value="Bold"/>
			<Setter Property="Cursor" Value="Hand"/>
		</Style>
	</UserControl.Resources>

	<Grid>
		<!-- 1) COLLAGE-BILD -->
		<Image x:Name="ImgResult"
               Stretch="Uniform"
               HorizontalAlignment="Center"
               VerticalAlignment="Center"/>

		<!-- 2) FILTER-OVERLAY (nur so groÃŸ wie nÃ¶tig!) -->
		<Border Background="#CCFFFFFF"
                CornerRadius="10"
                Padding="8"
                Margin="16"
                HorizontalAlignment="Left"
                VerticalAlignment="Top"
                Panel.ZIndex="1"
                Visibility="{Binding FotoFilter, Converter={StaticResource BoolToVisibilityConverter}}">
			<StackPanel>
				<Button Click="FilterOriginal_Click" Style="{StaticResource OverlayButton}">
					<StackPanel>
						<Image x:Name="PreviewOriginal" Width="80" Height="40"/>
						<TextBlock Text="FARBE" HorizontalAlignment="Center"/>
					</StackPanel>
				</Button>
				<Button Click="FilterSW_Click" Style="{StaticResource OverlayButton}">
					<StackPanel>
						<Image x:Name="PreviewSW" Width="80" Height="40"/>
						<TextBlock Text="S/W" HorizontalAlignment="Center"/>
					</StackPanel>
				</Button>
				<Button Click="FilterSepia_Click" Style="{StaticResource OverlayButton}">
					<StackPanel>
						<Image x:Name="PreviewSepia" Width="80" Height="40"/>
						<TextBlock Text="SEPIA" HorizontalAlignment="Center"/>
					</StackPanel>
				</Button>
			</StackPanel>
		</Border>

		<!-- 3) AKTIONS-OVERLAY AM UNTEREN RAND -->
		<Border Background="#CCFFFFFF"
                CornerRadius="16"
                Padding="10"
                HorizontalAlignment="Center"
                VerticalAlignment="Bottom"
                Margin="0,0,0,20"
                Panel.ZIndex="1">
			<StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
				<Button x:Name="PrintButton"
                        Click="Print_Click"
                        Style="{StaticResource OverlayButton}"
                        Visibility="{Binding Direktdruck, Converter={StaticResource BoolToVisibilityConverter}}">
					<StackPanel Orientation="Horizontal">
						<TextBlock Text="ðŸ–¨ï¸" FontSize="24" Margin="0,0,8,0"/>
						<TextBlock Text="DRUCKEN UND SPEICHERN"/>
					</StackPanel>
				</Button>

				<Button x:Name="SaveButton"
                        Click="Save_Click"
                        Style="{StaticResource OverlayButton}">
					<StackPanel Orientation="Horizontal">
						<TextBlock Text="ðŸ’¾" FontSize="24" Margin="0,0,8,0"/>
						<TextBlock Text="{Binding SaveButtonLabel}"/>
					</StackPanel>
				</Button>

				<Button x:Name="GalleryButton"
                        Click="Gallery_Click"
                        Style="{StaticResource OverlayButton}">
					<StackPanel Orientation="Horizontal">
						<TextBlock Text="ðŸ–¼ï¸" FontSize="24" Margin="0,0,8,0"/>
						<TextBlock Text="ZUR GALERIE"/>
					</StackPanel>
				</Button>
			</StackPanel>
		</Border>

		<!-- 4) NOTIFICATION-OVERLAY -->
		<Border x:Name="NotificationOverlay"
                Background="#AA000000"
                CornerRadius="10"
                Padding="20"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Visibility="Collapsed"
                Panel.ZIndex="2">
			<TextBlock Text="Wird gedruckt und in der Galerie gespeichertâ€¦"
                       Foreground="White"
                       FontSize="20"
                       FontWeight="Bold"
                       TextAlignment="Center"/>
		</Border>
	</Grid>
</UserControl>
